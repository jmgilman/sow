# Test session-info command without an active project
# Should show repository info but no project details

exec git init

-- .sow/.version --
1.0.0

-- .sow/refs/index.json --
{
  "version": "1.0.0",
  "refs": []
}

# Run session-info
exec sow session-info
stdout '"type": "project"'
stdout '"root":'
stdout '"branch":'
stdout '"cli": "dev"'
stdout '"structure": "1.0.0"'
stdout '"mismatch": false'
stdout 'sow init'

# Should not have project section when no project exists
! stdout '"project":'
